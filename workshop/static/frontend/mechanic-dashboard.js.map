{"version":3,"file":"mechanic-dashboard.js","sources":["../../../frontend/src/pages/mechanic/Dashboard.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n// Main Mechanic Dashboard Component\r\nconst MechanicDashboard = () => {\r\n    const [dashboardData, setDashboardData] = useState({\r\n        assigned_repairs: [],\r\n        stats: {\r\n            total_assigned: 0,\r\n            completed: 0,\r\n            in_progress: 0,\r\n            stuck: 0\r\n        },\r\n        user_info: {}\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterType, setFilterType] = useState('all');\r\n    const [expandedCards, setExpandedCards] = useState({});\r\n\r\n    useEffect(() => {\r\n        fetchDashboardData();\r\n        const interval = setInterval(fetchDashboardData, 30000); // Refresh every 30 seconds\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const fetchDashboardData = async () => {\r\n        try {\r\n            const response = await fetch('/api/mechanic/dashboard/', {\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                    'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]')?.value || ''\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch dashboard data');\r\n            }\r\n\r\n            const data = await response.json();\r\n            setDashboardData(data);\r\n            setLoading(false);\r\n        } catch (err) {\r\n            setError(err.message);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const toggleCard = (cardId) => {\r\n        setExpandedCards(prev => ({\r\n            ...prev,\r\n            [cardId]: !prev[cardId]\r\n        }));\r\n    };\r\n\r\n    const filteredRepairs = dashboardData.assigned_repairs.filter(repair => {\r\n        const matchesSearch = searchTerm === '' ||\r\n            repair.bike?.brand?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            repair.bike?.model?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            repair.bike?.customer?.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            repair.id.toString().includes(searchTerm);\r\n\r\n        const matchesFilter = filterType === 'all' ||\r\n            (filterType === 'pending' && !repair.is_stuck && repair.progress_percentage < 100) ||\r\n            (filterType === 'completed' && repair.progress_percentage === 100) ||\r\n            (filterType === 'stuck' && repair.is_stuck);\r\n\r\n        return matchesSearch && matchesFilter;\r\n    });\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"w-16 h-16 border-4 border-orange-400 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n                    <p className=\"text-slate-300 text-lg\">注 转 砖专...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center\">\r\n                <div className=\"bg-red-900/20 border border-red-500/30 rounded-2xl p-8 max-w-md mx-auto\">\r\n                    <div className=\"text-center\">\r\n                        <i className=\"fas fa-exclamation-triangle text-red-400 text-4xl mb-4\"></i>\r\n                        <h2 className=\"text-xl font-bold text-white mb-2\">砖 注转 转</h2>\r\n                        <p className=\"text-red-200 mb-4\">{error}</p>\r\n                        <button\r\n                            onClick={fetchDashboardData}\r\n                            className=\"bg-red-500/20 hover:bg-red-500/30 text-red-300 px-4 py-2 rounded-lg border border-red-400/40 transition-all duration-200\"\r\n                        >\r\n                            住 砖\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\r\n            <DashboardHeader user={dashboardData.user_info} />\r\n            <StatisticsOverview stats={dashboardData.stats} />\r\n            <SearchAndFilter\r\n                searchTerm={searchTerm}\r\n                setSearchTerm={setSearchTerm}\r\n                filterType={filterType}\r\n                setFilterType={setFilterType}\r\n            />\r\n            <RepairsList\r\n                repairs={filteredRepairs}\r\n                expandedCards={expandedCards}\r\n                toggleCard={toggleCard}\r\n                onStuckReport={fetchDashboardData}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\n// Dashboard Header Component\r\nconst DashboardHeader = ({ user }) => {\r\n    return (\r\n        <div className=\"text-center mb-8\">\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n                <div className=\"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center shadow-xl\">\r\n                    <i className=\"fas fa-tools text-white text-2xl sm:text-3xl\"></i>\r\n                </div>\r\n                <h1 className=\"text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-orange-400 via-red-500 to-purple-500 bg-clip-text text-transparent mb-2\">\r\n                     砖专 \r\n                </h1>\r\n                <h2 className=\"text-xl sm:text-2xl text-orange-300 font-semibold\">\r\n                    砖 {user.first_name || user.username || ''}!\r\n                </h2>\r\n                <p className=\"text-slate-300 text-sm sm:text-base max-w-2xl\">\r\n                     转  注 转 转拽 砖拽爪  爪专 注 拽爪注转\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Statistics Overview Component\r\nconst StatisticsOverview = ({ stats }) => {\r\n    const metrics = [\r\n        {\r\n            title: \"转拽 拽爪\",\r\n            value: stats.total_assigned,\r\n            icon: \"fas fa-clipboard-list\",\r\n            color: \"orange\",\r\n            gradient: \"from-orange-500/20 to-orange-600/20\",\r\n            borderColor: \"border-orange-400/30\",\r\n            textColor: \"text-orange-300\",\r\n            iconBg: \"bg-orange-500/20\",\r\n            iconColor: \"text-orange-400\"\r\n        },\r\n        {\r\n            title: \"砖\",\r\n            value: stats.completed,\r\n            icon: \"fas fa-check-circle\",\r\n            color: \"green\",\r\n            gradient: \"from-green-500/20 to-emerald-600/20\",\r\n            borderColor: \"border-green-400/30\",\r\n            textColor: \"text-green-300\",\r\n            iconBg: \"bg-green-500/20\",\r\n            iconColor: \"text-green-400\"\r\n        },\r\n        {\r\n            title: \"注\",\r\n            value: stats.in_progress,\r\n            icon: \"fas fa-cogs\",\r\n            color: \"blue\",\r\n            gradient: \"from-blue-500/20 to-cyan-600/20\",\r\n            borderColor: \"border-blue-400/30\",\r\n            textColor: \"text-blue-300\",\r\n            iconBg: \"bg-blue-500/20\",\r\n            iconColor: \"text-blue-400\"\r\n        },\r\n        {\r\n            title: \"转拽注\",\r\n            value: stats.stuck,\r\n            icon: \"fas fa-exclamation-triangle\",\r\n            color: \"red\",\r\n            gradient: \"from-red-500/20 to-red-600/20\",\r\n            borderColor: \"border-red-400/30\",\r\n            textColor: \"text-red-300\",\r\n            iconBg: \"bg-red-500/20\",\r\n            iconColor: \"text-red-400\"\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\r\n            {metrics.map((metric, index) => (\r\n                <div\r\n                    key={index}\r\n                    className={`bg-slate-800/40 backdrop-blur-sm ${metric.borderColor} border rounded-xl p-4 text-center hover:scale-105 transform transition-all duration-300 hover:bg-slate-800/60 ${metric.gradient}`}\r\n                >\r\n                    <div className={`w-10 h-10 ${metric.iconBg} rounded-lg flex items-center justify-center mx-auto mb-3`}>\r\n                        <i className={metric.icon + ' ' + metric.iconColor + ' text-lg'}></i>\r\n                    </div>\r\n                    <div className={`text-2xl font-bold ${metric.textColor} mb-1`}>\r\n                        {metric.value}\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-400\">{metric.title}</div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\n// Search and Filter Component\r\nconst SearchAndFilter = ({ searchTerm, setSearchTerm, filterType, setFilterType }) => {\r\n    const filters = [\r\n        { key: 'all', label: '', active: true },\r\n        { key: 'pending', label: '注', active: false },\r\n        { key: 'completed', label: '砖', active: false },\r\n        { key: 'stuck', label: '转拽注', active: false }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"mb-6\">\r\n            <div className=\"bg-slate-800/40 backdrop-blur-sm border border-slate-600/40 rounded-xl p-4\">\r\n                <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                    <div className=\"flex-1\">\r\n                        <div className=\"relative\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"驻砖 驻 拽,   住驻专 转拽...\"\r\n                                className=\"w-full bg-slate-700/50 border border-slate-600/50 rounded-lg px-4 py-3 pl-12 text-white placeholder-slate-400 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 transition-all\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                            />\r\n                            <i className=\"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400\"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                        {filters.map(filter => (\r\n                            <button\r\n                                key={filter.key}\r\n                                className={`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\r\n                                    filterType === filter.key\r\n                                        ? 'bg-orange-500/30 border border-orange-400/50 text-orange-200'\r\n                                        : 'bg-slate-600/50 border border-slate-500/30 text-slate-300 hover:bg-slate-600/70'\r\n                                }`}\r\n                                onClick={() => setFilterType(filter.key)}\r\n                            >\r\n                                {filter.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Repairs List Component\r\nconst RepairsList = ({ repairs, expandedCards, toggleCard, onStuckReport }) => {\r\n    if (repairs.length === 0) {\r\n        return <EmptyState />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-4\" id=\"repairs-container\">\r\n            {repairs.map((repair, index) => (\r\n                <RepairCard\r\n                    key={repair.id}\r\n                    repair={repair}\r\n                    index={index}\r\n                    isExpanded={expandedCards[repair.id]}\r\n                    onToggle={() => toggleCard(repair.id)}\r\n                    onStuckReport={onStuckReport}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\n// Individual Repair Card Component\r\nconst RepairCard = ({ repair, index, isExpanded, onToggle, onStuckReport }) => {\r\n    const getStatusInfo = () => {\r\n        if (repair.is_stuck) {\r\n            return {\r\n                badge: { text: '转拽注', color: 'bg-red-500/20 border-red-400/30 text-red-300', icon: 'fas fa-exclamation-triangle' },\r\n                status: 'stuck'\r\n            };\r\n        } else if (repair.progress_percentage === 100) {\r\n            return {\r\n                badge: { text: '砖', color: 'bg-green-500/20 border-green-400/30 text-green-300', icon: 'fas fa-check-circle' },\r\n                status: 'completed'\r\n            };\r\n        } else {\r\n            return {\r\n                badge: { text: '注', color: 'bg-blue-500/20 border-blue-400/30 text-blue-300', icon: 'fas fa-cogs' },\r\n                status: 'pending'\r\n            };\r\n        }\r\n    };\r\n\r\n    const statusInfo = getStatusInfo();\r\n\r\n    const animationStyle = { animationDelay: (index * 0.1) + 's' };\r\n    const progressBarStyle = { width: repair.progress_percentage + '%' };\r\n\r\n    return (\r\n        <div\r\n            className=\"bg-slate-800/50 backdrop-blur-sm border border-slate-600/40 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-slate-500/60 animate-fade-in-up\"\r\n            style={animationStyle}\r\n        >\r\n            {/* Compact Header (Always Visible) */}\r\n            <div className=\"p-6 cursor-pointer select-none\" onClick={onToggle}>\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-4 flex-1\">\r\n                        <div className=\"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center shadow-lg\">\r\n                            <i className=\"fas fa-bicycle text-white text-lg\"></i>\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                            <div className=\"flex items-center gap-3 mb-2\">\r\n                                <h3 className=\"text-lg font-bold text-white truncate\">\r\n                                    {repair.bike?.brand} {repair.bike?.model}\r\n                                </h3>\r\n                                <span className=\"text-sm text-slate-400 flex-shrink-0\">#{repair.id}</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-4 flex-wrap\">\r\n                                <p className=\"text-base text-slate-300 truncate\">\r\n                                    <i className=\"fas fa-user text-slate-400 mr-2\"></i>\r\n                                    {repair.bike?.customer?.name}\r\n                                </p>\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <span className={`px-3 py-1 border rounded-lg text-sm font-medium ${statusInfo.badge.color}`}>\r\n                                        <i className={statusInfo.badge.icon + ' mr-1'}></i>\r\n                                        {statusInfo.badge.text}\r\n                                    </span>\r\n                                    <span className=\"text-sm text-slate-400\">\r\n                                        {repair.progress_percentage}% 砖\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Right side actions and expand icon */}\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"text-sm text-slate-400 text-right\">\r\n                            <div className=\"mb-1\">\r\n                                <i className=\"fas fa-tasks text-slate-500 mr-1\"></i>\r\n                                {repair.completed_count || 0}/{repair.total_items_count || 0} 砖转\r\n                            </div>\r\n                            <div>\r\n                                <i className=\"fas fa-calendar text-slate-500 mr-1\"></i>\r\n                                {new Date(repair.created_at).toLocaleDateString('he-IL')}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Primary Action Button - Redesigned */}\r\n                        <a\r\n                            href={`/mechanic/repair/${repair.id}/complete/`}\r\n                            className=\"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold px-4 py-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 text-sm flex items-center gap-2\"\r\n                            onClick={(e) => e.stopPropagation()}\r\n                        >\r\n                            <i className=\"fas fa-edit\"></i>\r\n                            <span className=\"hidden sm:inline\">注</span>\r\n                        </a>\r\n\r\n                        <i className={`fas fa-chevron-down text-slate-400 transition-transform duration-300 ${isExpanded ? 'rotate-180' : ''}`}></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Expandable Content */}\r\n            <div className={`overflow-hidden transition-all duration-500 ease-in-out ${isExpanded ? 'max-h-screen opacity-100' : 'max-h-0 opacity-0'}`}>\r\n                <div className=\"border-t border-slate-600/30\"></div>\r\n\r\n                <RepairCardDetails repair={repair} onStuckReport={onStuckReport} progressBarStyle={progressBarStyle} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Repair Card Details Component\r\nconst RepairCardDetails = ({ repair, onStuckReport, progressBarStyle }) => {\r\n    const handleStuckReport = async (reason) => {\r\n        try {\r\n            const response = await fetch(`/api/mechanic/repair/${repair.id}/stuck/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]')?.value || ''\r\n                },\r\n                body: JSON.stringify({ reason })\r\n            });\r\n\r\n            if (response.ok) {\r\n                onStuckReport(); // Refresh dashboard\r\n            } else {\r\n                alert('砖  转拽注');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error reporting stuck repair:', error);\r\n            alert('砖  转拽注');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"grid grid-cols-1 xl:grid-cols-3 gap-6\">\r\n\r\n                {/* Customer & Repair Info */}\r\n                <div className=\"xl:col-span-2 space-y-6\">\r\n                    {/* Customer Details */}\r\n                    <div className=\"bg-slate-700/30 border border-slate-600/30 rounded-xl p-5\">\r\n                        <h4 className=\"text-white font-semibold mb-4 flex items-center gap-2 text-lg\">\r\n                            <i className=\"fas fa-user text-blue-400\"></i>\r\n                            驻专 拽 驻\r\n                        </h4>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                            <div className=\"space-y-3\">\r\n                                <div className=\"flex items-center gap-3 text-base\">\r\n                                    <i className=\"fas fa-user text-slate-400 w-4\"></i>\r\n                                    <span className=\"text-slate-200\">{repair.bike?.customer?.name}</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-3 text-base\">\r\n                                    <i className=\"fas fa-bicycle text-slate-400 w-4\"></i>\r\n                                    <span className=\"text-slate-200\">{repair.bike?.brand} {repair.bike?.model}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"space-y-3\">\r\n                                <div className=\"flex items-center gap-3 text-base\">\r\n                                    <i className=\"fas fa-phone text-slate-400 w-4\"></i>\r\n                                    <span className=\"text-slate-200\">{repair.bike?.customer?.phone || ' '}</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-3 text-base\">\r\n                                    <i className=\"fas fa-calendar text-slate-400 w-4\"></i>\r\n                                    <span className=\"text-slate-200\">\r\n                                        {new Date(repair.created_at).toLocaleDateString('he-IL', {\r\n                                            year: 'numeric',\r\n                                            month: 'long',\r\n                                            day: 'numeric',\r\n                                            hour: '2-digit',\r\n                                            minute: '2-digit'\r\n                                        })}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Diagnosis */}\r\n                    {repair.diagnosis && (\r\n                        <div className=\"bg-blue-500/10 border border-blue-400/30 rounded-xl p-5\">\r\n                            <h4 className=\"text-white font-semibold mb-3 flex items-center gap-2 text-lg\">\r\n                                <i className=\"fas fa-stethoscope text-blue-400\"></i>\r\n                                \r\n                            </h4>\r\n                            <p className=\"text-slate-200 text-base leading-relaxed\">{repair.diagnosis}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Approved Tasks */}\r\n                    {repair.approved_items && repair.approved_items.length > 0 && (\r\n                        <div className=\"bg-slate-700/30 border border-slate-600/30 rounded-xl p-5\">\r\n                            <h4 className=\"text-white font-semibold mb-4 flex items-center gap-2 text-lg\">\r\n                                <i className=\"fas fa-tasks text-green-400\"></i>\r\n                                驻注转 砖专转\r\n                            </h4>\r\n                            <div className=\"space-y-3\">\r\n                                {repair.approved_items.map((item, index) => (\r\n                                    <div key={index} className=\"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg border border-slate-600/20\">\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"text-white text-base font-medium mb-1\">{item.description}</div>\r\n                                            {item.notes && (\r\n                                                <div className=\"text-slate-400 text-sm\">{item.notes}</div>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <span className=\"text-green-300 font-bold text-lg\">{item.price}</span>\r\n                                            {item.status === 'completed' ? (\r\n                                                <span className=\"px-3 py-1 bg-green-500/20 border border-green-400/30 rounded-lg text-green-300 text-sm font-medium\">\r\n                                                    <i className=\"fas fa-check mr-1\"></i>砖\r\n                                                </span>\r\n                                            ) : item.status === 'blocked' ? (\r\n                                                <span className=\"px-3 py-1 bg-red-500/20 border border-red-400/30 rounded-lg text-red-300 text-sm font-medium\">\r\n                                                    <i className=\"fas fa-times mr-1\"></i>转拽注\r\n                                                </span>\r\n                                            ) : (\r\n                                                <span className=\"px-3 py-1 bg-blue-500/20 border border-blue-400/30 rounded-lg text-blue-300 text-sm font-medium\">\r\n                                                    <i className=\"fas fa-clock mr-1\"></i>转\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Progress & Actions */}\r\n                <div className=\"space-y-6\">\r\n\r\n                    {/* Progress Section */}\r\n                    <div className=\"bg-slate-700/30 border border-slate-600/30 rounded-xl p-5\">\r\n                        <h4 className=\"text-white font-semibold mb-4 flex items-center gap-2 text-lg\">\r\n                            <i className=\"fas fa-chart-pie text-purple-400\"></i>\r\n                            转拽转 驻专转\r\n                        </h4>\r\n\r\n                        {/* Progress Stats */}\r\n                        <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n                            <div className=\"text-center\">\r\n                                <div className=\"text-3xl font-bold text-green-300\">{repair.completed_count || 0}</div>\r\n                                <div className=\"text-sm text-slate-400\">砖</div>\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <div className=\"text-3xl font-bold text-blue-300\">{repair.pending_count || 0}</div>\r\n                                <div className=\"text-sm text-slate-400\">转转</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Progress Bar */}\r\n                        <div className=\"relative mb-4\">\r\n                            <div className=\"w-full bg-slate-600 rounded-full h-8\">\r\n                                <div\r\n                                    className=\"bg-gradient-to-r from-green-500 to-emerald-500 h-8 rounded-full flex items-center justify-center transition-all duration-1000 shadow-lg\"\r\n                                    style={progressBarStyle}\r\n                                >\r\n                                    <span className=\"text-white text-sm font-bold\">\r\n                                        {repair.progress_percentage}%\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Stuck Alert */}\r\n                        {repair.is_stuck && (\r\n                            <div className=\"p-4 bg-red-500/10 border border-red-400/30 rounded-lg\">\r\n                                <div className=\"text-red-300 text-base font-semibold mb-2 flex items-center gap-2\">\r\n                                    <i className=\"fas fa-stop-circle\"></i>\r\n                                    转拽 转拽注\r\n                                </div>\r\n                                <p className=\"text-red-200 text-sm mb-3\">{repair.stuck_reason}</p>\r\n                                {repair.manager_response && (\r\n                                    <div className=\"mt-3 p-3 bg-blue-500/10 border border-blue-400/30 rounded-lg\">\r\n                                        <div className=\"text-blue-300 text-sm font-semibold\">转转 :</div>\r\n                                        <div className=\"text-blue-200 text-sm\">{repair.manager_response}</div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Action Buttons */}\r\n                    <div className=\"space-y-3\">\r\n                        <a\r\n                            href={`/mechanic/repair/${repair.id}/complete/`}\r\n                            className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 text-base text-center block flex items-center justify-center gap-2\"\r\n                        >\r\n                            <i className=\"fas fa-edit\"></i>\r\n                            注 转拽转\r\n                        </a>\r\n\r\n                        <div className=\"grid grid-cols-2 gap-3\">\r\n                            <a\r\n                                href={`/repair/${repair.id}/status/`}\r\n                                className=\"bg-slate-600/50 hover:bg-slate-600/70 text-slate-200 font-medium py-3 px-4 rounded-lg transition-all text-sm text-center flex items-center justify-center gap-2\"\r\n                            >\r\n                                <i className=\"fas fa-eye\"></i>\r\n                                驻专\r\n                            </a>\r\n                            <a\r\n                                href={`/repair/${repair.id}/print-label/`}\r\n                                target=\"_blank\"\r\n                                className=\"bg-purple-600/50 hover:bg-purple-600/70 text-purple-200 font-medium py-3 px-4 rounded-lg transition-all text-sm text-center flex items-center justify-center gap-2\"\r\n                            >\r\n                                <i className=\"fas fa-print\"></i>\r\n                                拽\r\n                            </a>\r\n                        </div>\r\n\r\n                        {!repair.is_stuck ? (\r\n                            <StuckReportButton repairId={repair.id} onReport={handleStuckReport} />\r\n                        ) : (\r\n                            <button\r\n                                className=\"w-full bg-green-600/50 hover:bg-green-600/70 text-green-200 font-medium py-3 px-4 rounded-lg transition-all text-sm flex items-center justify-center gap-2\"\r\n                                onClick={() => {\r\n                                    if (confirm(' 转  砖专爪 砖 注?')) {\r\n                                        // Handle resume work\r\n                                        location.reload();\r\n                                    }\r\n                                }}\r\n                            >\r\n                                <i className=\"fas fa-play\"></i>\r\n                                砖 注\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Stuck Report Button Component\r\nconst StuckReportButton = ({ repairId, onReport }) => {\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [reason, setReason] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async () => {\r\n        if (!reason.trim()) {\r\n            alert(' 转专 转 住转 转拽注');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        await onReport(reason.trim());\r\n        setLoading(false);\r\n        setShowModal(false);\r\n        setReason('');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <button\r\n                className=\"w-full bg-red-600/50 hover:bg-red-600/70 text-red-200 font-medium py-3 px-4 rounded-lg transition-all text-sm flex items-center justify-center gap-2\"\r\n                onClick={() => setShowModal(true)}\r\n            >\r\n                <i className=\"fas fa-exclamation-triangle\"></i>\r\n                 转拽注\r\n            </button>\r\n\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n                    <div className=\"bg-slate-800/90 backdrop-blur-xl border border-red-400/30 rounded-2xl p-6 w-full max-w-md\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n                                <i className=\"fas fa-exclamation-triangle text-red-400\"></i>\r\n                                 注 转拽注\r\n                            </h3>\r\n                            <button\r\n                                onClick={() => setShowModal(false)}\r\n                                className=\"text-slate-400 hover:text-white transition-colors\"\r\n                            >\r\n                                <i className=\"fas fa-times text-xl\"></i>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"mb-4\">\r\n                            <label className=\"block text-slate-300 text-sm font-medium mb-2\">住转 转拽注:</label>\r\n                            <textarea\r\n                                rows=\"4\"\r\n                                className=\"w-full bg-slate-700/50 border border-slate-600/50 rounded-lg px-3 py-2 text-white placeholder-slate-400 focus:border-red-400 focus:ring-2 focus:ring-red-400/20 transition-all resize-none\"\r\n                                placeholder=\"转专 转 注   砖注  砖...\"\r\n                                value={reason}\r\n                                onChange={(e) => setReason(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={() => setShowModal(false)}\r\n                                className=\"flex-1 bg-slate-600/50 hover:bg-slate-600/70 text-slate-200 font-medium py-2 px-4 rounded-lg transition-all\"\r\n                            >\r\n                                \r\n                            </button>\r\n                            <button\r\n                                onClick={handleSubmit}\r\n                                disabled={loading}\r\n                                className=\"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-all disabled:opacity-50\"\r\n                            >\r\n                                {loading ? (\r\n                                    <>\r\n                                        <i className=\"fas fa-spinner fa-spin mr-2\"></i>\r\n                                        砖...\r\n                                    </>\r\n                                ) : (\r\n                                    ' 转拽注'\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\n// Empty State Component\r\nconst EmptyState = () => {\r\n    return (\r\n        <div className=\"text-center py-16\">\r\n            <div className=\"bg-slate-800/40 backdrop-blur-sm border border-slate-600/40 rounded-2xl p-8 max-w-md mx-auto\">\r\n                <div className=\"w-20 h-20 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl\">\r\n                    <i className=\"fas fa-tools text-white text-3xl\"></i>\r\n                </div>\r\n                <h3 className=\"text-xl font-bold text-white mb-2\"> 转拽 拽爪 专注</h3>\r\n                <p className=\"text-slate-400 mb-6\">砖专 拽爪  转拽,  驻注 </p>\r\n                <a\r\n                    href=\"/\"\r\n                    className=\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 inline-flex items-center gap-2\"\r\n                >\r\n                    <i className=\"fas fa-home\"></i>\r\n                    专 祝 转\r\n                </a>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MechanicDashboard;\r\n\r\n// Initialize and render the app\r\nimport { createRoot } from 'react-dom/client';\r\n\r\nconst rootElement = document.getElementById('root');\r\nif (rootElement) {\r\n    const root = createRoot(rootElement);\r\n    root.render(<MechanicDashboard />);\r\n}\r\n"],"names":["MechanicDashboard","dashboardData","setDashboardData","useState","loading","setLoading","error","setError","searchTerm","setSearchTerm","filterType","setFilterType","expandedCards","setExpandedCards","useEffect","fetchDashboardData","interval","response","data","err","toggleCard","cardId","prev","filteredRepairs","repair","matchesSearch","matchesFilter","jsxs","jsx","DashboardHeader","StatisticsOverview","SearchAndFilter","RepairsList","user","stats","metrics","metric","index","filters","e","filter","repairs","onStuckReport","EmptyState","RepairCard","isExpanded","onToggle","statusInfo","animationStyle","progressBarStyle","RepairCardDetails","handleStuckReport","reason","item","StuckReportButton","repairId","onReport","showModal","setShowModal","setReason","handleSubmit","Fragment","rootElement","createRoot"],"mappings":"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"}