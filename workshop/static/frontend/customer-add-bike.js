import{r as n,j as e,c as D}from"./client.CZIp3qzo.js";import"./react-vendor.CiW5Bwbg.js";function T(){const[s,x]=n.useState({brand:"",model:"",color:""}),[u,f]=n.useState(!1),[l,d]=n.useState({}),o=n.useRef(null),y=[{name:"שחור",bg:"bg-black",textColor:"text-white"},{name:"לבן",bg:"bg-white",textColor:"text-black"},{name:"אדום",bg:"bg-red-500",textColor:"text-white"},{name:"כחול",bg:"bg-blue-500",textColor:"text-white"},{name:"ירוק",bg:"bg-green-500",textColor:"text-white"},{name:"כתום",bg:"bg-orange-500",textColor:"text-white"},{name:"צהוב",bg:"bg-yellow-400",textColor:"text-black"},{name:"סגול",bg:"bg-purple-500",textColor:"text-white"}],[h,j]=n.useState(-1);n.useEffect(()=>{const t=setTimeout(()=>{o.current&&o.current.focus()},500);return()=>clearTimeout(t)},[]),n.useEffect(()=>{const t={brand:localStorage.getItem("bike_draft_brand")||"",model:localStorage.getItem("bike_draft_model")||"",color:localStorage.getItem("bike_draft_color")||""};(t.brand||t.model||t.color)&&x(t)},[]);const v=(t,a)=>{localStorage.setItem(`bike_draft_${t}`,a)},i=(t,a)=>{x(r=>({...r,[t]:a})),v(t,a),l[t]&&d(r=>({...r,[t]:null}))},N=(t,a)=>{i("color",t),j(a);const r=document.getElementById("color-input");r&&(r.classList.add("scale-105"),setTimeout(()=>{r.classList.remove("scale-105")},200))},w=()=>{const t={};return s.brand.trim()||(t.brand="חובה למלא שם יצרן"),d(t),Object.keys(t).length===0},b=async t=>{if(t.preventDefault(),!w()){l.brand&&o.current&&(o.current.focus(),o.current.style.borderColor="#ef4444",o.current.style.boxShadow="0 0 0 3px rgba(239, 68, 68, 0.1)",setTimeout(()=>{o.current.style.borderColor="",o.current.style.boxShadow=""},2e3));return}f(!0);try{const a=document.querySelector("[name=csrfmiddlewaretoken]")?.value,r=await fetch(window.location.pathname,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRFToken":a},body:new URLSearchParams({brand:s.brand,model:s.model,color:s.color,csrfmiddlewaretoken:a})});if(r.ok)localStorage.removeItem("bike_draft_brand"),localStorage.removeItem("bike_draft_model"),localStorage.removeItem("bike_draft_color"),k("אופניים נוספו בהצלחה!"),setTimeout(()=>{window.location.href="/my-bikes/"},1500);else{const C=await r.text(),I=new DOMParser().parseFromString(C,"text/html"),m={};if(I.querySelectorAll(".form-error").forEach(p=>{const E=p.getAttribute("data-field")||"brand";m[E]=p.textContent.trim()}),Object.keys(m).length>0)d(m);else throw new Error("Failed to add bike")}}catch(a){console.error("Error adding bike:",a),S("אירעה שגיאה בהוספת האופניים")}finally{f(!1)}},k=t=>{const a=document.createElement("div");a.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",a.innerHTML=`<i class="fas fa-check mr-2"></i>${t}`,document.body.appendChild(a),setTimeout(()=>{document.body.contains(a)&&document.body.removeChild(a)},3e3)},S=t=>{const a=document.createElement("div");a.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",a.innerHTML=`<i class="fas fa-exclamation-triangle mr-2"></i>${t}`,document.body.appendChild(a),setTimeout(()=>{document.body.contains(a)&&document.body.removeChild(a)},3e3)};n.useEffect(()=>{const t=a=>{(a.ctrlKey||a.metaKey)&&a.key==="Enter"&&(a.preventDefault(),b(a)),a.key==="Escape"&&(window.location.href="/my-bikes/")};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[s]);const c=t=>s[t]?l[t]?"opacity-100 bg-red-400":"opacity-100 bg-emerald-400":"opacity-0";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-emerald-900 to-slate-900",children:[e.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[e.jsx("div",{className:"text-center mb-6 sm:mb-8",children:e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-emerald-500 via-cyan-500 to-purple-500 bg-clip-text text-transparent mb-4",children:["🚲 הוסף אופניים חדשים",e.jsx("span",{className:"text-2xl sm:text-3xl lg:text-4xl text-emerald-300",children:"✨"})]}),e.jsx("p",{className:"text-slate-300 text-base sm:text-lg max-w-2xl mx-auto leading-relaxed",children:"הוסף אופניים חדשים למערכת ותתחיל לעקוב אחר התיקונים שלהם"})]})}),e.jsxs("div",{className:"glass-card border border-emerald-400/30 rounded-2xl backdrop-blur-xl bg-slate-800/40 shadow-2xl overflow-hidden hover:bg-slate-800/50 hover:-translate-y-1 transition-all duration-300",children:[e.jsx("div",{className:"border-b border-slate-600/30 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("i",{className:"fas fa-plus-circle text-white text-lg"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"פרטי האופניים החדשים"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"מלא את הפרטים הבסיסיים של האופניים"})]})]})}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"form-group opacity-0 translate-y-5 animate-fadeInUp",style:{animationDelay:"0.1s"},children:[e.jsxs("label",{className:"form-label text-white font-semibold mb-3 flex items-center gap-2",htmlFor:"brand-input",children:[e.jsx("i",{className:"fas fa-industry text-orange-400"}),"יצרן",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-industry text-slate-400"})}),e.jsx("input",{type:"text",id:"brand-input",ref:o,value:s.brand,onChange:t=>i("brand",t.target.value),className:"mercury-input w-full pl-10 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-400 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/30 transition-all duration-300",placeholder:"דוגמה: Trek, Giant, Specialized",required:!0,style:{fontSize:window.innerWidth<=640?"16px":""}}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("div",{className:`w-2 h-2 rounded-full transition-opacity duration-300 ${c("brand")}`})})]}),l.brand&&e.jsxs("div",{className:"form-error mt-2 text-red-400 text-sm flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),l.brand]}),e.jsx("div",{className:"mt-2",children:e.jsx("small",{className:"text-slate-400",children:"שם החברה היצרנית של האופניים"})})]}),e.jsxs("div",{className:"form-group opacity-0 translate-y-5 animate-fadeInUp",style:{animationDelay:"0.2s"},children:[e.jsxs("label",{className:"form-label text-white font-semibold mb-3 flex items-center gap-2",htmlFor:"model-input",children:[e.jsx("i",{className:"fas fa-tag text-cyan-400"}),"מודל"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-tag text-slate-400"})}),e.jsx("input",{type:"text",id:"model-input",value:s.model,onChange:t=>i("model",t.target.value),className:"mercury-input w-full pl-10 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/30 transition-all duration-300",placeholder:"דוגמה: Domane, Defy, Tarmac",style:{fontSize:window.innerWidth<=640?"16px":""}}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("div",{className:`w-2 h-2 rounded-full transition-opacity duration-300 ${c("model")}`})})]}),l.model&&e.jsxs("div",{className:"form-error mt-2 text-red-400 text-sm flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),l.model]}),e.jsx("div",{className:"mt-2",children:e.jsx("small",{className:"text-slate-400",children:"מודל או סדרה של האופניים (אופציונלי)"})})]}),e.jsxs("div",{className:"form-group opacity-0 translate-y-5 animate-fadeInUp",style:{animationDelay:"0.3s"},children:[e.jsxs("label",{className:"form-label text-white font-semibold mb-3 flex items-center gap-2",htmlFor:"color-input",children:[e.jsx("i",{className:"fas fa-palette text-purple-400"}),"צבע"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-palette text-slate-400"})}),e.jsx("input",{type:"text",id:"color-input",value:s.color,onChange:t=>i("color",t.target.value),className:"mercury-input w-full pl-10 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-400 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/30 transition-all duration-300",placeholder:"דוגמה: שחור, לבן, אדום, כחול",style:{fontSize:window.innerWidth<=640?"16px":""}}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("div",{className:`w-2 h-2 rounded-full transition-opacity duration-300 ${c("color")}`})})]}),l.color&&e.jsxs("div",{className:"form-error mt-2 text-red-400 text-sm flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),l.color]}),e.jsx("div",{className:"mt-2",children:e.jsx("small",{className:"text-slate-400",children:"הצבע העיקרי של האופניים (אופציונלי)"})})]}),e.jsxs("div",{className:"color-suggestions opacity-0 translate-y-5 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[e.jsx("label",{className:"text-white font-medium mb-3 block",children:"צבעים פופולריים:"}),e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3",children:y.map((t,a)=>e.jsxs("button",{type:"button",className:`color-option w-10 h-10 rounded-full border-2 hover:scale-110 transition-all duration-300 relative overflow-hidden ${t.bg} ${h===a?"border-emerald-500 shadow-lg shadow-emerald-500/30":"border-slate-500 hover:border-emerald-400"}`,onClick:()=>N(t.name,a),children:[e.jsx("span",{className:"sr-only",children:t.name}),e.jsx("i",{className:`fas fa-check absolute inset-0 flex items-center justify-center ${t.textColor} font-bold transition-opacity duration-300 ${h===a?"opacity-100":"opacity-0"}`,style:{textShadow:"0 0 4px rgba(0, 0, 0, 0.8)"}})]},a))})]}),e.jsx("div",{className:"form-actions pt-6 border-t border-slate-600/30 opacity-0 translate-y-5 animate-fadeInUp",style:{animationDelay:"0.5s"},children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-center",children:[e.jsx("button",{type:"submit",disabled:u,className:"bg-green-500 w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 hover:from-emerald-500 hover:to-green-500 text-white font-bold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-emerald-500/40 hover:scale-105 active:scale-95 border border-emerald-500/50 backdrop-blur-sm disabled:opacity-50 disabled:cursor-not-allowed",children:u?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),e.jsx("span",{className:"font-bold",children:"מוסיף אופניים..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-plus mr-2"}),e.jsx("span",{className:"font-bold",children:"הוסף אופניים"})]})}),e.jsxs("a",{href:"/my-bikes/",className:"w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-500 hover:to-slate-600 text-white font-bold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-slate-500/40 hover:scale-105 active:scale-95 border border-slate-500/50 backdrop-blur-sm",children:[e.jsx("i",{className:"fas fa-times mr-2"}),e.jsx("span",{className:"font-bold",children:"ביטול"})]})]})})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("div",{className:"glass-card border border-blue-400/20 rounded-xl p-4 inline-block bg-slate-800/40 backdrop-blur-xl hover:bg-slate-800/50 hover:-translate-y-1 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[e.jsx("i",{className:"fas fa-info-circle text-blue-400"}),e.jsx("small",{children:"לאחר הוספת האופניים תוכל לדווח על תקלות ולעקוב אחר התיקונים"})]})})}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("a",{href:"/customer/report/",className:"glass-card border border-orange-400/30 rounded-xl p-4 hover:border-orange-400/50 transition-all duration-300 group bg-slate-800/40 backdrop-blur-xl hover:bg-slate-800/50 hover:-translate-y-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center group-hover:bg-orange-500/30 transition-colors duration-300",children:e.jsx("i",{className:"fas fa-exclamation-triangle text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:"דווח תקלה"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"דווח על בעיה עם אופניים קיימות"})]})]})}),e.jsx("a",{href:"/my-bikes/",className:"glass-card border border-blue-400/30 rounded-xl p-4 hover:border-blue-400/50 transition-all duration-300 group bg-slate-800/40 backdrop-blur-xl hover:bg-slate-800/50 hover:-translate-y-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center group-hover:bg-blue-500/30 transition-colors duration-300",children:e.jsx("i",{className:"fas fa-list text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:"האופניים שלי"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"צפה ונהל את כל האופניים שלך"})]})]})})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeInUp {
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fadeInUp {
          animation: fadeInUp 0.6s ease-out forwards;
        }
      `})]})}const g=document.getElementById("customer-add-bike-root");g?D.createRoot(g).render(e.jsx(T,{})):console.error("Customer Add Bike: Root element not found");
//# sourceMappingURL=customer-add-bike.js.map
