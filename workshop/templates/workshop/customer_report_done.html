{% extends "workshop/base.html" %}
{% load static %}

{% block title %}הדיווח נשלח בהצלחה - אופני יקיר{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-slate-900 via-emerald-900 to-slate-900 relative overflow-hidden">
    <!-- Animated Background Elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-1/4 -right-20 w-96 h-96 bg-gradient-to-r from-emerald-500/10 via-green-500/15 to-emerald-500/10 rounded-full blur-3xl animate-float-slow opacity-60"></div>
        <div class="absolute bottom-1/4 -left-32 w-80 h-80 bg-gradient-to-r from-green-500/10 via-emerald-500/15 to-teal-500/10 rounded-full blur-3xl animate-float-medium opacity-40"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-cyan-500/10 via-emerald-500/15 to-green-500/10 rounded-full blur-3xl animate-float-fast opacity-50"></div>
    </div>

    <!-- Main Content -->
    <div class="relative z-10 flex items-center justify-center min-h-screen px-4 py-8">
        <div class="max-w-lg w-full">
            
            <!-- Success Card -->
            <div class="bg-gradient-to-br from-slate-800/80 to-slate-900/80 backdrop-blur-xl rounded-3xl p-8 border border-emerald-400/30 shadow-2xl transform scale-95 opacity-0 animate-fadeInUp">
                
                <!-- Success Icon -->
                <div class="text-center mb-8">
                    <div class="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full mb-6 shadow-2xl animate-bounce">
                        <i class="fas fa-check text-white text-4xl animate-pulse"></i>
                    </div>
                    
                    <!-- Celebration Emojis -->
                    <div class="flex justify-center gap-2 mb-4">
                        <span class="text-3xl animate-bounce [animation-delay:0.1s]">🎉</span>
                        <span class="text-3xl animate-bounce [animation-delay:0.2s]">✅</span>
                        <span class="text-3xl animate-bounce [animation-delay:0.3s]">🚲</span>
                        <span class="text-3xl animate-bounce [animation-delay:0.4s]">🔧</span>
                        <span class="text-3xl animate-bounce [animation-delay:0.5s]">🎉</span>
                    </div>
                </div>

                <!-- Success Message -->
                <div class="text-center mb-8">
                    <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-emerald-400 via-green-400 to-emerald-500 bg-clip-text text-transparent mb-4 animate-slideInUp">
                        הדיווח נשלח בהצלחה!
                    </h1>
                    
                    <div class="space-y-4 animate-slideInUp [animation-delay:0.2s]">
                        <p class="text-slate-300 text-lg leading-relaxed">
                            תודה רבה! הדיווח שלך התקבל במערכת
                        </p>
                        
                        <div class="bg-emerald-500/10 border border-emerald-400/30 rounded-xl p-4">
                            <div class="flex items-start gap-3">
                                <i class="fas fa-info-circle text-emerald-400 mt-0.5 flex-shrink-0"></i>
                                <div class="text-emerald-200 text-sm leading-relaxed">
                                    <p class="font-semibold mb-2">מה קורה הלאה?</p>
                                    <ul class="space-y-1">
                                        <li>• צוות המוסך יבדוק את הדיווח</li>
                                        <li>• נכין עבורך הצעת מחיר</li>
                                        <li>• ניצור עמך קשר בהקדם</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="space-y-4 animate-slideInUp [animation-delay:0.4s]">
                    <!-- Primary Button - Back to Home -->
                    <a href="{% url 'home' %}" 
                       class="w-full inline-flex items-center justify-center px-6 py-4 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white font-bold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-emerald-500/25 transform hover:scale-105 active:scale-95">
                        <i class="fas fa-home mr-3"></i>
                        חזור לדף הבית
                    </a>
                    
                    <!-- Secondary Button - View Reports -->
                    <a href="{% url 'customer_dashboard' %}" 
                       class="w-full inline-flex items-center justify-center px-6 py-3 bg-slate-700/50 hover:bg-slate-600/50 text-slate-300 hover:text-white font-semibold rounded-xl transition-all duration-300 border border-slate-600/30 hover:border-slate-500/50">
                        <i class="fas fa-list mr-3"></i>
                        צפה בכל הדיווחים שלי
                    </a>
                </div>

                <!-- Additional Info -->
                <div class="mt-8 pt-6 border-t border-slate-600/30 animate-slideInUp [animation-delay:0.6s]">
                    <div class="flex items-center justify-center gap-4 text-slate-400 text-sm">
                        <div class="flex items-center gap-2">
                            <i class="fas fa-clock text-emerald-400"></i>
                            <span>מענה תוך 24 שעות</span>
                        </div>
                        <div class="w-1 h-1 bg-slate-500 rounded-full"></div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-phone text-emerald-400"></i>
                            <span>יצירת קשר אישית</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Floating Elements -->
            <div class="absolute -top-4 -right-4 w-8 h-8 bg-emerald-400/20 rounded-full animate-ping"></div>
            <div class="absolute -bottom-4 -left-4 w-6 h-6 bg-green-400/20 rounded-full animate-ping [animation-delay:1s]"></div>
            <div class="absolute top-1/2 -right-8 w-4 h-4 bg-emerald-500/30 rounded-full animate-pulse"></div>
            <div class="absolute top-1/3 -left-6 w-5 h-5 bg-green-500/30 rounded-full animate-pulse [animation-delay:0.5s]"></div>
        </div>
    </div>
</div>

<!-- JavaScript for Enhanced Animations -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('🎉 Success page loaded');
    
    // Add success card animation
    const successCard = document.querySelector('.animate-fadeInUp');
    if (successCard) {
        setTimeout(() => {
            successCard.style.transform = 'scale(1)';
            successCard.style.opacity = '1';
        }, 200);
    }
    
    // Confetti effect
    createConfetti();
    
    // Auto-focus on main button
    const homeButton = document.querySelector('a[href*="home"]');
    if (homeButton) {
        setTimeout(() => {
            homeButton.focus();
        }, 1000);
    }
    
    // Add keyboard shortcut for home
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            window.location.href = homeButton.href;
        }
    });
});

function createConfetti() {
    const colors = ['#10b981', '#059669', '#047857', '#34d399', '#6ee7b7'];
    const confettiCount = 30;
    
    for (let i = 0; i < confettiCount; i++) {
        setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.style.cssText = `
                position: fixed;
                top: -10px;
                left: ${Math.random() * 100}%;
                width: 8px;
                height: 8px;
                background: ${colors[Math.floor(Math.random() * colors.length)]};
                border-radius: 50%;
                pointer-events: none;
                z-index: 1000;
                animation: confettiFall 3s linear forwards;
            `;
            
            document.body.appendChild(confetti);
            
            setTimeout(() => {
                confetti.remove();
            }, 3000);
        }, i * 100);
    }
}

// Add custom animations
const style = document.createElement('style');
style.textContent = `
    @keyframes confettiFall {
        to {
            transform: translateY(calc(100vh + 20px)) rotate(360deg);
            opacity: 0;
        }
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }
    
    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .animate-fadeInUp {
        animation: fadeInUp 0.8s ease-out forwards;
    }
    
    .animate-slideInUp {
        animation: slideInUp 0.6s ease-out forwards;
        opacity: 0;
        animation-fill-mode: both;
    }
`;
document.head.appendChild(style);
</script>
{% endblock %}
